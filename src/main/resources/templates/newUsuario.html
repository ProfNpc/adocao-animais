<!DOCTYPE html>
<html lang="pt-br">

<head th:replace="~{fragmentos :: head('Usuario')}"></head>

<body>
	<div style="background-color: rgb(153, 0, 204);">
		<div class="container p-2">
			<a class="h2 text-white text-decoration-none" href="/pet/home"><img th:src="@{/MicrosoftTeams-image.png}"
					alt="" width="30" height="24">
				Adote fácil</a>
		</div>
	</div>
	<div class="container">

		<main class=" px-5 pb-3 mt-1   bg-light ">
			<div class="col-md-12 control-label">
				<p class="text-end">* Campo Obrigatório</p>
			</div>
			<h1 class="text-center  display-5 p-2 ">Novo usuário</h1>
			<form class="" name="formUser" th:object="${requisicaoFormUsuario}" th:action="@{/pet/usuario}"
				method="post">

				<div class="panel panel-primary">


					<div class="panel-body">


						<!-- Text input-->
						<h5 class="col-md-2  mt-2" for=" ">Dados</h5>
						<div class="row">
							<div class="col-md-6 form-group">
								<label class="col-md-8 control-label" for="nome">Nome <h11>*</h11></label>
								<div class="col-md-12">
									<input th:field="*{nome}" placeholder="Nome" class="form-control input-md"
										type="text" th:errorclass=" is-invalid">
									<div class="invalid-feedback" th:errors="*{nome}"></div>
								</div>
							</div>
							<div class="col-md-6 form-group">
								<label class="col-md-8 control-label" for="sobrenome">Sobrenome
									<h11>*</h11>
								</label>
								<div class="col-md12">
									<input th:field="*{sobrenome}" th:errorclass=" is-invalid" placeholder="Sobrenome"
										class="form-control input-md" type="text">
									<div class="invalid-feedback" th:errors="*{sobrenome}"></div>
								</div>
							</div>
						</div>


						<!-- Text input-->
						<div class="row">
							<div class=" col form-group">
								<label class="col-md-12 control-label" for="cpf">CPF <h11>*</h11></label>
								<div class="col-md-12">
									<input th:field="*{cpf}" th:errorclass=" is-invalid" placeholder="Apenas números"
										class="form-control input-md" type="text" maxlength="11" pattern="[0-9]+$">
									<div class="invalid-feedback" th:errors="*{cpf}"></div>
								</div>
							</div>
							<div class="col form-group">
								<label class="col-md-12 control-label" for="nascimento">Nascimento<h11>*</h11></label>
								<div class="col-md-12">
									<input th:field="*{nascimento}" th:errorclass=" is-invalid" placeholder="DD/MM/AAAA"
										class="form-control input-md" required="" type="text" maxlength="10"
										OnKeyPress="formatar('##/##/####', this)" onBlur="showhide()">
									<div class="invalid-feedback" th:errors="*{nascimento}"></div>
								</div>
							</div>
							<!-- Multiple Radios (inline) -->
							<div class="col form-group">
								<label class="col-md-12 control-label" for="radios">Sexo
									*</label>
								<div class="col-md-12">
									<label class="form-check-label" for="sexo1"> <input class="form-check-input"
											th:field="*{sexo}" th:errorclass=" is-invalid" value="feminino"
											type="radio">
										Feminino
										<div class="invalid-feedback" th:errors="*{sexo}"></div>
									</label> <label clclass="form-check-label" for="sexo2"> <input
											class="form-check-input" th:field="*{sexo}" th:errorclass=" is-invalid"
											value="masculino" type="radio">
										Masculino
										<div class="invalid-feedback" th:errors="*{sexo}"></div>
									</label>
								</div>
							</div>
						</div>


						<!-- Prepended text-->
						<div class="row">
							<div class="col-lg-4 col-md-6 form-group">
								<label class="col-md-12 control-label" for="telefone">Telefone
									<h11>*</h11>
								</label>
								<div class="col-md-12">
									<div class="input-group">
										<span class="input-group-addon"><i
												class="glyphicon glyphicon-earphone"></i></span> <input
											th:field="*{telefone}" th:errorclass=" is-invalid" class="form-control"
											placeholder="XX XXXXX-XXXX" type="text" maxlength="13"
											pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$"
											OnKeyPress="formatar('## #####-####', this)">
										<div class="invalid-feedback" th:errors="*{telefone}"></div>
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 form-group">
								<label class="col-md-12 control-label" for="telefone2">Telefone</label>
								<div class="col-md-12">
									<div class="input-group">
										<span class="input-group-addon"><i
												class="glyphicon glyphicon-earphone"></i></span> <input
											th:field="*{telefone2}" th:errorclass=" is-invalid" class="form-control"
											placeholder="XX XXXXX-XXXX" type="text" maxlength="13"
											pattern="\[0-9]{2}\ [0-9]{4,6}-[0-9]{3,4}$"
											OnKeyPress="formatar('## #####-####', this)">
										<div class="invalid-feedback" th:errors="*{telefone2}"></div>
									</div>
								</div>
							</div>

						</div>
						<!-- prependedtext -->

						<!-- Prepended text-->
						<div class="row">
							<div class=" col-lg-8 form-group">
								<label class="col-md-2 control-label" for="email">Email
									<h11>*</h11>
								</label>
								<div class="col-md-12">
									<div class="input-group">
										<span class="input-group-addon"><i
												class="glyphicon glyphicon-envelope"></i></span> <input
											th:field="*{email}" th:errorclass=" is-invalid" class="form-control"
											placeholder="email@email.com" type="text"
											pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
										<div class="invalid-feedback" th:errors="*{email}"></div>
									</div>
								</div>
							</div>
						</div>



						<!-- Search input-->
						<div class="row">
							<div class="col-md-3  ">
								<label class="col-md-12 control-label" for="cep">CEP <h11>*</h11></label>
								<div class="col-md-12">
									<input th:field="*{cep}" th:errorclass=" is-invalid"   placeholder="Apenas números"
										class="form-control input-md"   type="search" maxlength="8"
										pattern="[0-9]+$">
										<div class="invalid-feedback" th:errors="*{cep}"></div>
								</div>
							</div>
							<div class="col-md-2 ">
								<label class="col-md-12 control-label" for=" ">
									<h11></h11>
								</label>
								<button type="button" class="btn btn-secondary"
									onclick="pesquisacep(cep.value)">Pesquisar</button>
							</div>
						</div>


						<!-- Prepended text-->
						<div>
							<h5 class="col-md-2  mt-2" for="prependedtext">Endereço</h5>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<span class="input-group-addon">Rua</span> <input th:field="*{rua}" th:errorclass=" is-invalid"
											class="form-control  bg-secondary bg-opacity-25 " placeholder=""  
											readonly="" type="text">
												<div class="invalid-feedback" th:errors="*{rua}"></div>
									</div>

								</div>
								<div class="col-md-2">
									<div class="form-group">
										<span class="input-group-addon">Nº <h11>*</h11></span> <input  
											th:field="*{numero}" th:errorclass=" is-invalid" class="form-control" placeholder=""   type="text">
											<div class="invalid-feedback" th:errors="*{numero}"></div>
									</div>

								</div>

								<div class="col-md-4">
									<div class="form-group">
										<span class="input-group-addon ">Bairro</span> <input th:field="*{bairro}" th:errorclass=" is-invalid"  
											class="form-control bg-secondary bg-opacity-25 " placeholder=""  
											readonly="" type="text">
											<div class="invalid-feedback" th:errors="*{bairro}"></div>
									</div>

								</div>


								<div class="col-md-6">
									<div class="form-group">
										<span class="input-group-addon">Cidade</span> <input th:field="*{cidade}" th:errorclass=" is-invalid"  
											class="form-control  bg-secondary bg-opacity-25 " placeholder="" required=""
											readonly type="text">
											<div class="invalid-feedback" th:errors="*{cidade}"></div>
									</div>

								</div>

								<div class="col-md-2">
									<div class="form-group">
										<span class="input-group-addon">Estado</span> <input  th:field="*{estado}" th:errorclass=" is-invalid" 
											class="form-control  bg-secondary bg-opacity-25 " placeholder="" required=""
											readonly type="text">
											<div class="invalid-feedback" th:errors="*{estado}"></div>
									</div>

								</div>

							</div>
						</div>
						<!-- Prepended checkbox -->
					</div>

					<h5 class="col-md-2  mt-2" for=" ">Senha</h5>
					<div class="row">
						<div class="col-md-6 form-group">
							<label class="col-md-12 control-label" for="senha">Senha
								<h11>*</h11>
							</label>
							<div class="col-md-12">
								<input id="senha" name="senha" placeholder="***" class="form-control input-md"
									required="" type="password">
							</div>
						</div>
						<div class="col-md-6 form-group">
							<label class="col-md-12 control-label" for="confirma">Confirma
								senha <h11>*</h11>
							</label>
							<div class="col-md-12">
								<input id="confirma" name="confirma" placeholder="***" class="form-control input-md"
									required="" type="password">
							</div>

						</div>
					</div>
					<!-- Button (Double) -->
					<div class="form-group">
						<label class="col-md-2 control-label" for="Cadastrar"></label>
						<div class="col-md-8">
							<button id="Cadastrar" name="Cadastrar" class="btn btn-primary"
								type="Submit" onclick="return validar()">Cadastrar</button>
							<button id="Cancelar" name="Cancelar" class="btn btn-danger" type="Reset">Cancelar</button>
						</div>
					</div>

				</div>




			</form>
		</main>
		<!-- footer - rodape basico -->
		<div class="container">
			<footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
				<div class="col-md-4 d-flex align-items-center">
					<a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
						<div class="  text-center ">
							<img class="img-fluid" th:src="@{/imagens/MicrosoftTeams-image.png }" alt=""
								style="height: 5vh;" />
						</div>
					</a> <span class="mb-3 mb-md-0 text-muted">© 2023 Adote fácil</span>
				</div>
				<div class="nav col-md-4 justify-content-end list-unstyled d-flex">
					<span class="mb-3 mb-md-0 text-muted"> Adote e transfome uma
						vida, a sua!</span>
				</div>
			</footer>
		</div>
	</div>
	<script type="text/javascript">
		function validar() {

			var senha = formUser.senha.value;
			var confirma = formUser.confirma.value;

			if (senha == "" | senha.length <= 5) {
				alert("Preencha senha com pelo menos 6 caracteres!");
				formUser.senha.focus();
				return false;
			}

			if (confirma == "" | confirma.length <= 5) {
				alert("Preencha confirma senha com pelo menos 6 caracteres!");
				formUser.confirma.focus();
				return false;
			}

			if (senha != confirma) {
				alert("Preencha  senhas iguais!");
				formUser.senha.focus();
				return false;
			}

		}
	</script>
	<script>
		function limpa_formulario_cep() {
			//Limpa valores do formulário de cep.
			document.getElementById('rua').value = ("");
			document.getElementById('bairro').value = ("");
			document.getElementById('cidade').value = ("");
			document.getElementById('estado').value = ("");

		}

		function meu_callback(conteudo) {
			if (!("erro" in conteudo)) {
				//Atualiza os campos com os valores.
				document.getElementById('rua').value = (conteudo.logradouro);
				document.getElementById('bairro').value = (conteudo.bairro);
				document.getElementById('cidade').value = (conteudo.localidade);
				document.getElementById('estado').value = (conteudo.uf);
			} //end if.
			else {
				//CEP não Encontrado.
				limpa_formulario_cep();
				alert("CEP não encontrado.");
				document.getElementById('cep').value = ("");
			}
		}

		function pesquisacep(valor) {

			//Nova variável "cep" somente com dígitos.
			var cep = valor.replace(/\D/g, '');

			//Verifica se campo cep possui valor informado.
			if (cep !== "") {

				//Expressão regular para validar o CEP.
				var validacep = /^[0-9]{8}$/;

				//Valida o formato do CEP.
				if (validacep.test(cep)) {

					//Preenche os campos com "..." enquanto consulta webservice.
					document.getElementById('rua').value = "...";
					document.getElementById('bairro').value = "...";
					document.getElementById('cidade').value = "...";
					document.getElementById('estado').value = "...";

					//Cria um elemento javascript.
					var script = document.createElement('script');

					//Sincroniza com o callback.
					script.src = '//viacep.com.br/ws/' + cep
						+ '/json/?callback=meu_callback';

					//Insere script no documento e carrega o conteúdo.
					document.body.appendChild(script);

				} //end if.
				else {
					//cep é inválido.
					limpa_formulario_cep();
					alert("Formato de CEP inválido.");
				}
			} //end if.
			else {
				//cep sem valor, limpa formulário.
				limpa_formulario_cep();
			}
		}

		function formatar(mascara, documento) {
			var i = documento.value.length;
			var saida = mascara.substring(0, 1);
			var texto = mascara.substring(i);

			if (texto.substring(0, 1) != saida) {
				documento.value += texto.substring(0, 1);
			}

		}

		function idade() {
			var data = document.getElementById("dtnasc").value;
			var dia = data.substr(0, 2);
			var mes = data.substr(3, 2);
			var ano = data.substr(6, 4);
			var d = new Date();
			var ano_atual = d.getFullYear(), mes_atual = d.getMonth() + 1, dia_atual = d
				.getDate();

			ano = +ano, mes = +mes, dia = +dia;

			var idade = ano_atual - ano;

			if (mes_atual < mes || mes_atual == mes_aniversario
				&& dia_atual < dia) {
				idade--;
			}
			return idade;
		}

		function exibe(i) {

			document.getElementById(i).readOnly = true;

		}

		function desabilita(i) {

			document.getElementById(i).disabled = true;
		}
		function habilita(i) {
			document.getElementById(i).disabled = false;
		}

		function showhide() {
			var div = document.getElementById("newpost");

			if (idade() >= 18) {

				div.style.display = "none";
			} else if (idade() < 18) {
				div.style.display = "inline";
			}

		}
	</script>
</body>

</html>